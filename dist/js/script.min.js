$((function(){function t(){const t=100*Number($("#total-length").val());let n=0,e=0;if($(".control__input","#users-list").each((function(t,e){n+=Number($(e).val())})),"paper"===$(".control__button--active").data("type")){e=t/Number($("#paper-length").val())/n}else e=t/n;$("#result").html(e.toFixed(0))}function n(){$("#users-list").empty();const n="paper"===$(".control__button--active").data("type")?{unit:"листочков",defaultValue:"1"}:{unit:"см",defaultValue:"10"};for(let t=1;t<=$("#users-count").val();t++)$("#users-list").append(`\n                <div class="form-group form-group--row">\n                        <div class="form-group__title">Человек ${t} (${n.unit})</div>\n                        <div class="form-group__control control">\n                            <input type="text" class="control__input" value="${n.defaultValue}" />\n                        </div>\n                </div>\n            `);t()}$("#total-length, #paper-length").blur(t),$("#users-count").blur(n),$("body").on("change","#users-list .control__input",(function(){t()})),$(".control__button").click((function(){$(this).addClass("control__button--active").siblings().removeClass(".control__button--active"),"paper"===$(this).data("type")?$("#paper-length-block").removeClass("hidden"):$("#paper-length-block").addClass("hidden"),n()})),n(),t()}));